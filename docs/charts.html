<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Análise de Gráficos</title>
    <link rel="stylesheet" href="static/css/style.css" />
  </head>
  <body>
    <header>
      <nav class="header-container">
        <div class="logo-container">
          <img
            src="static/images/logo.png"
            alt="Logo"
            class="header-logo"
          />
          <h1>Monitoramento De Gastos Públicos - DF</h1>
        </div>
        <div class="header-buttons">
          <!-- Botões de navegação, com classe 'active' para a página atual -->
          
          <a href="index.html" class="btn-header">Início</a>
          <a href="charts.html" class="btn-header active">Análise de Gráficos</a>
          
        </div>
      </nav>
    </header>

    <!-- Conteúdo da página -->
    <main>
<!-- Barra de navegação -->
<div class="barra-navegacao">
    <a href="charts.html" class="nav-link active">Gráficos</a>
    <a href="tables.html" class="nav-link">Tabelas</a>
</div>

<!-- Conteúdo principal -->
<main>
    <div class="content">
        <h2>Monitoramento de Gastos Públicos - DF</h2>

        <!-- Menu dropdown para escolha -->
        <div class="dropdown">
            <button class="dropdown-btn">Escolher</button>
            <div class="dropdown-content">
                <a href="#" onclick="atualizarGrafico('Despesas'); return false;">Despesas</a>
                <a href="#" onclick="atualizarGrafico('Bolsa Família'); return false;">Bolsa Família</a>
                <a href="#" onclick="atualizarGrafico('Notas Fiscais'); return false;">Notas Fiscais</a>
                <a href="#" onclick="atualizarGrafico('Licitações'); return false;">Licitações</a>
            </div>
        </div>

        <!-- Div onde o gráfico será exibido -->
        <div id="grafico-plotly"></div>
    </div>
</main>

<!-- Scripts para os gráficos -->
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
    // Dados iniciais do gráfico
    var dadosPlotly = {
        x: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio'],
        y: [200, 300, 400, 500, 600],
        type: 'bar'
    };

    // Configurações do gráfico inicial
    var layout = {
        title: 'Gastos mensais'
    };

    // Renderizar gráfico inicial
    Plotly.newPlot('grafico-plotly', [dadosPlotly], layout);

    // Atualizar gráfico com base na seleção
    function atualizarGrafico(tipo) {
        let labels, valores, titulo;
        if (tipo === 'Despesas') {
            labels = ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio'];
            valores = [200, 300, 400, 500, 600];
            titulo = 'Gastos com Despesas';
        } else if (tipo === 'Bolsa Família') {
            labels = ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio'];
            valores = [150, 250, 350, 450, 550];
            titulo = 'Gastos com Bolsa Família';
        } else if (tipo === 'Notas Fiscais') {
            labels = ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio'];
            valores = [100, 200, 300, 400, 500];
            titulo = 'Gastos com Notas Fiscais';
        } else if (tipo === 'Licitações') {
            labels = ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio'];
            valores = [250, 350, 450, 550, 650];
            titulo = 'Gastos com Licitações';
        }

        var dadosAtualizados = [{
            x: labels,
            y: valores,
            type: 'bar'
        }];

        Plotly.newPlot('grafico-plotly', dadosAtualizados, { title: titulo });
    }
</script>
</main>

    <!-- Rodapé global, presente em todas as páginas -->
    <footer>
      <div class="footer-container">
        <img
          src="static/images/footer-logo.png"
          alt="Logo do rodapé"
          class="footer-logo"
        />
        <p>
          © 2024 Monitoramento de Gastos Públicos - Todos os direitos
          reservados.
        </p>
      </div>
    </footer>
  </body>
</html>
